(function(e){"use strict";window.CanvasHalfSlider=function(t){var n,s,i,a,r,c,l,d,u,o=this;t=t||{},t.container=t.hasOwnProperty("container")?t.container:"",t.pixiSprites=t.hasOwnProperty("sprites")?t.sprites:[],t.autoPlay=!t.hasOwnProperty("autoPlay")||t.autoPlay,t.displaceScale=t.hasOwnProperty("displaceScale")?t.displaceScale:[200,70],t.displacementImage=t.hasOwnProperty("displacementImage")?t.displacementImage:"",t.wacky=!!t.hasOwnProperty("wacky")&&t.wacky,t.displaceScaleTo=t.autoPlay===!1?[0,0]:[20,20],s=new PIXI.autoDetectRenderer(1080,1080,{transparent:!0}),a=new PIXI.Container,r=new PIXI.Container,n=new PIXI.Sprite.fromImage(t.displacementImage),i=new PIXI.filters.DisplacementFilter(n),this.currentIndex=0,this.initPixi=function(){document.getElementsByClassName(t.container)[0].appendChild(s.view),a.addChild(r),s.view.style.maxWidth="100%",s.view.style.top="50%",s.view.style.left="50%",s.view.style.webkitTransform="translate( -50%, -50% )",s.view.style.transform="translate( -50%, -50% )",n.texture.baseTexture.wrapMode=PIXI.WRAP_MODES.REPEAT,a.filters=[i],t.autoPlay===!1&&(i.scale.x=0,i.scale.y=0),t.wacky===!0&&(n.anchor.set(.5),n.x=s.width/2,n.y=s.height/2),n.scale.x=2,n.scale.y=2,a.addChild(n)},this.loadPixiSprites=function(e){for(var s,o,i=t.sprites,n=0;n<i.length;n++)o=new PIXI.Texture.fromImage(e[n]),s=new PIXI.Sprite(o),n!==0&&TweenMax.set(s,{alpha:0}),r.addChild(s)},c=new PIXI.ticker.Ticker,c.autoStart=!0,c.add(function(){s.render(a)}),l=!1,d=r.children,this.moveSlider=function(e){l=!0;var s=new TimelineMax({onComplete:function(){o.currentIndex=e,l=!1,t.wacky===!0&&n.scale.set(1)},onUpdate:function(){t.wacky===!0&&(n.rotation+=s.progress()*.02,n.scale.set(s.progress()*3))}});if(s.clear(),s.isActive())return;s.to(i.scale,1,{x:t.displaceScale[0],y:t.displaceScale[1],ease:Power1.easeOut}).to(d[o.currentIndex],.5,{alpha:0,ease:Power2.easeOut},.2).to(d[e],.5,{alpha:1,ease:Power2.easeOut},.3).to(i.scale,1,{x:t.displaceScaleTo[0],y:t.displaceScaleTo[1],ease:Power2.easeOut},.3)},this.init=function(){o.initPixi(),o.loadPixiSprites(t.pixiSprites)},this.init(),o.moveSlider(0),u=new Swiper(".half-slider .swiper-container",{effect:"fade",speed:1500,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:!0,autoplay:{delay:6e3},mousewheel:!0,preventInteractionOnTransition:!0,pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'">0'+(e+1)+"</span>"}},on:{init:function(){setTimeout(function(){e(".half-slider .swiper-slide.swiper-slide-active").addClass("animate-active")},500)},slideChange:function(){var t=this;o.moveSlider(t.realIndex),e(".half-slider .swiper-slide").removeClass("animate-active"),e(".half-slider .swiper-slide").eq(t.realIndex).addClass("animate-active")}}}),e(".half-slider .swiper-buttons > div").addClass("enabled"),e(".half-slider .swiper-pagination-bullet").addClass("enabled")}})(jQuery);function initHalfSlider(){for(var s,i,t=document.querySelectorAll(".half-slide-item__image"),o=document.querySelectorAll(".half-slider")[0].dataset.dispimgpath,n=[],e=0;e<t.length;e++)s=t[e],n.push(s.getAttribute("src"));i=new CanvasHalfSlider({container:"half-slider-items__image",sprites:n,displacementImage:o,autoPlay:!1,wacky:!0})}