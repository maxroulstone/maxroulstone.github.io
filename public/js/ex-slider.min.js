(function(e){"use strict";if(window.CanvasSlideshowEx=function(t){var n,o,i,a,r,c,l,d,u,s=this;t=t||{},t.container=t.hasOwnProperty("container")?t.container:"",t.pixiSprites=t.hasOwnProperty("sprites")?t.sprites:[],t.displaceScale=t.hasOwnProperty("displaceScale")?t.displaceScale:[200,70],t.displacementImage=t.hasOwnProperty("displacementImage")?t.displacementImage:"",t.wacky=!!t.hasOwnProperty("wacky")&&t.wacky,t.displaceScaleTo=[0,0],o=new PIXI.autoDetectRenderer(970,621,{transparent:!0}),i=new PIXI.Container,a=new PIXI.Container,n=new PIXI.Sprite.fromImage(t.displacementImage),r=new PIXI.filters.DisplacementFilter(n),this.currentIndex=0,this.initPixi=function(){document.getElementsByClassName(t.container)[0].appendChild(o.view),i.addChild(a),n.texture.baseTexture.wrapMode=PIXI.WRAP_MODES.REPEAT,i.filters=[r],t.wacky===!0&&(n.anchor.set(.5),n.x=o.width/2,n.y=o.height/2),n.scale.x=2,n.scale.y=2,i.addChild(n)},this.loadPixiSprites=function(e){for(var s,o,i=t.sprites,n=0;n<i.length;n++)o=new PIXI.Texture.fromImage(e[n]),s=new PIXI.Sprite(o),n!==0&&TweenMax.set(s,{alpha:0}),a.addChild(s)},c=new PIXI.ticker.Ticker,c.autoStart=!0,c.add(function(){o.render(i)}),l=!1,d=a.children,this.moveSlider=function(e){l=!0;var o=new TimelineMax({onComplete:function(){s.currentIndex=e,l=!1,t.wacky===!0&&n.scale.set(1)},onUpdate:function(){t.wacky===!0&&(n.rotation+=o.progress()*.02,n.scale.set(o.progress()*3))}});if(o.clear(),o.isActive())return;o.to(r.scale,1,{x:t.displaceScale[0],y:t.displaceScale[1],ease:Power1.easeOut}).to(d[s.currentIndex],.5,{alpha:0,ease:Power2.easeOut},.2).to(d[e],.5,{alpha:1,ease:Power2.easeOut},.3).to(r.scale,1,{x:t.displaceScaleTo[0],y:t.displaceScaleTo[1],ease:Power2.easeOut},.3)},this.init=function(){s.initPixi(),s.loadPixiSprites(t.pixiSprites)},this.init(),s.moveSlider(0),u=new Swiper(".experience-carousel .swiper-container",{effect:"fade",speed:1500,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preventInteractionOnTransition:!0,on:{init:function(){setTimeout(function(){e(".experience-carousel").find(".swiper-slide.swiper-slide-active").addClass("animate-active")},500)},slideChange:function(){var t=this;s.moveSlider(t.realIndex),e(".experience-carousel").find(".swiper-slide").removeClass("animate-active"),e(".experience-carousel").find(".swiper-slide").eq(t.realIndex).addClass("animate-active")}}}),e(".experience-carousel .swiper-buttons > div").addClass("enabled")},e(".slide-ex-item__image").length){for(var o,a,n=document.querySelectorAll(".slide-ex-item__image"),i=document.querySelectorAll(".experience-carousel")[0].dataset.dispimgpath,s=[],t=0;t<n.length;t++)o=n[t],s.push(o.getAttribute("src"));a=new CanvasSlideshowEx({container:"slides-ex-items__image",sprites:s,displacementImage:i,wacky:!0})}})(jQuery)